# ファイルシステム操作

エージェントチャットは、エージェントがファイルを作成、読み取り、書き込み、リスト表示、移動、コピーするためのいくつかのツールを提供します。このドキュメントでは、利用可能なファイルシステム操作とその使用方法について詳細に説明します。

## 利用可能なファイルシステムツール

### createFolder

プロジェクト構造内に新しいディレクトリを作成します。

**使用方法**：
- 指定されたパスに新しいフォルダを作成します
- 親ディレクトリが存在しない場合は、自動的に作成されます
- フォルダ作成の確認を返します

**例**：
```
Reactアプリケーションのプロジェクト構造を作成する：
/project
  /src
    /components
    /hooks
    /utils
    /pages
  /public
  /tests
```

### writeToFile

ファイルにコンテンツを書き込みます。

**使用方法**：
- ファイルが存在しない場合は新しいファイルを作成します
- ファイルがすでに存在する場合は内容を更新します
- 既存のコンテンツに追加または置き換えることができます
- テキストファイルやコードファイルを含む様々なファイル形式をサポートします

**例**：
```javascript
// 新しいReactコンポーネントを作成
const MyComponent = () => {
  return (
    <div className="container">
      <h1>こんにちは世界</h1>
      <p>これは私の最初のコンポーネントです</p>
    </div>
  );
};

export default MyComponent;
```

### readFiles

複数のファイルの内容を同時に読み取ります。

**使用方法**：
- 一度に複数のファイルを読み取ることができます
- テキストファイルとExcelファイル（.xlsx、.xls）をサポートします
- Excelファイルは自動的にCSV形式に変換されます
- 各ファイルの内容を個別に返します

**サポートされているファイルタイプ**：
- テキストファイル（.txt、.md、.js、.pyなど）
- Excelファイル（.xlsx、.xls）- CSVに変換
- JSONファイル（.json）
- CSVファイル（.csv）
- 設定ファイル（.yml、.yaml、.iniなど）

### listFiles

ディレクトリ構造を階層形式で表示します。

**使用方法**：
- 包括的なプロジェクト構造を提供します
- すべてのサブディレクトリとファイルを含みます
- 設定された無視パターンに従います
- ファイルタイプやパターンでフィルタリングできます

**出力例**：
```
/project
├── package.json
├── README.md
├── src/
│   ├── components/
│   │   ├── Button.jsx
│   │   └── Header.jsx
│   ├── App.jsx
│   └── index.js
├── public/
│   ├── index.html
│   └── favicon.ico
└── tests/
    └── App.test.js
```

### moveFile

ファイルを別の場所に移動します。

**使用方法**：
- プロジェクト構造内でファイルを整理するために使用します
- 移動が成功した後、元のファイルは削除されます
- 移動操作中にファイルの名前を変更できます
- ターゲットディレクトリが存在しない場合は作成します

### copyFile

ファイルを別の場所に複製します。

**使用方法**：
- 別の場所にファイルの複製を作成します
- 元のファイルは変更されません
- コピーされたファイルの名前を変更できます
- ターゲットディレクトリが存在しない場合は作成します

## 設定オプション

ファイルシステム操作は、以下のオプションで設定できます：

### 無視パターン

ファイル一覧表示中に無視すべきファイルとディレクトリのパターンを指定します：

- デフォルトのパターンには以下が含まれます：`node_modules`、`.git`、`build`、`dist`
- カスタムパターンを設定に追加できます
- `*.log`や`**/*.tmp`のようなグロブパターンをサポートします

### ファイルサイズ制限

- 読み取り操作の最大ファイルサイズ：デフォルトで10MB
- 特定のファイルタイプに対して設定可能

### パス制限

セキュリティ上の理由から、ファイル操作は以下に制限される場合があります：

- 現在のプロジェクトディレクトリ
- 特定のホワイトリストに登録されたディレクトリ
- 非システムディレクトリ

## ベストプラクティス

エージェントでファイルシステム操作を使用する際の注意点：

1. **構造**：プロジェクトのディレクトリ構造を整理して維持する
2. **権限**：作成されたファイルに適切なファイル権限を確保する
3. **エラー処理**：ワークフローでのファイル操作の失敗の可能性を考慮する
4. **大きなファイル**：大きなファイルの読み書きには注意する

## 関連ツール

- [システムコマンド & コード実行](./system-execution-ja.md)：より高度なファイルシステム操作用
- [Web & 検索操作](./web-search-ja.md)：ウェブからローカルファイルへのコンテンツのダウンロード用