# Web & 検索操作

エージェントチャットは、ウェブを検索し、ウェブサイトからコンテンツを取得するためのツールを提供します。これらのツールは、最新の情報や外部リソースへのアクセスを可能にすることで、エージェントの機能を強化します。

## 利用可能なWeb & 検索ツール

### tavilySearch

Tavily APIを使用してウェブ検索を実行します。

**使用方法**：
- 最新の情報や追加のコンテキストが必要な場合に使用します
- ウェブ全体から関連情報を検索します
- ソースリンク付きの要約された結果を返します
- Tavilyの APIキーが必要です

**設定オプション**：
- 検索の深さ：検索がどれだけ包括的かを制御します
- 結果数：返す結果の数
- 検索タイプ：一般的または技術的な検索

**クエリタイプの例**：
- ライブラリの技術文書
- 最新のトレンドやニュース
- コードの例やソリューション
- ベストプラクティスと標準
- バージョンの互換性情報

![Web検索の例](../../../assets/agent-chat-search.png)

### fetchWebsite

指定されたURLからコンテンツを取得します。

**使用方法**：
- 特定のウェブページからコンテンツを取得します
- 大きなコンテンツは自動的に管理可能なチャンクに分割されます
- 初回呼び出しでチャンクの概要を提供し、必要に応じて特定のチャンクを取得できます

**機能**：
- GET、POST、PUT、DELETE、PATCH、HEAD、OPTIONSメソッドをサポート
- カスタムヘッダーとボディ設定を許可
- HTML、JSON、テキストを含む様々なコンテンツタイプを処理
- ウェブページから特定の要素を抽出可能

**サポートされているHTTPメソッド**：
- GET：リソースの取得
- POST：処理するデータの送信
- PUT：既存のリソースの更新
- DELETE：リソースの削除
- PATCH：リソースの部分的な更新
- HEAD：ヘッダーのみ取得
- OPTIONS：通信オプションの説明

## セットアップ要件

### Tavily APIキー

tavilySearchツールを使用するには：

1. [tavily.com](https://tavily.com)でアカウントを登録
2. ダッシュボードからAPIキーを生成
3. Bedrock Engineer設定でAPIキーを設定

### ネットワーク設定

Web & 検索操作には以下が必要です：

- アクティブなインターネット接続
- 発信HTTP/HTTPS接続を許可する適切なファイアウォール設定
- 制限されたネットワーク環境で運用する場合のプロキシ設定

## 使用戦略

### 効果的な検索クエリ

ウェブ検索から最良の結果を得るには：

- 具体的で簡潔なクエリを使用
- 関連する技術用語を含める
- 適用可能な場合はバージョン番号を指定
- コンテキストキーワードを追加（「チュートリアル」、「例」、「ドキュメント」など）

### コンテンツ取得のベストプラクティス

fetchWebsiteを使用する際：

- ホームページではなく、特定のドキュメントページをターゲットにする
- コンテンツを絞り込むためにURLパラメータを使用
- 保護されたコンテンツの認証要件を考慮
- ウェブサイトの利用規約に注意する

## 制限事項と考慮事項

### レート制限

- Tavily APIはサブスクリプションプランに基づいてレート制限があります
- 過剰なリクエストは抑制される可能性があります

### コンテンツアクセス制限

- 一部のウェブサイトは自動アクセスをブロックします
- ペイウォールやログイン保護されたコンテンツにはアクセスできない場合があります
- CORSポリシーにより特定のウェブサイトへのアクセスが制限される場合があります

### データの新鮮さ

- ウェブ検索結果はインデックス付けされたコンテンツの現在の状態を反映しています
- 一部の検索結果には古い情報が含まれている場合があります
- 重要な情報は公式ソースから確認することを検討してください

## 他のツールとの統合

Web & 検索操作は以下と連携して効果的です：

- [ファイルシステム操作](./file-system-ja.md)：取得した情報を保存するため
- [Amazon Bedrock 統合](./bedrock-integration-ja.md)：取得したコンテンツを分析するため
- [システムコマンド & コード実行](./system-execution-ja.md)：ウェブデータを処理するため

## プライバシーとセキュリティ

Web & 検索操作を使用する際：

- 機密情報の検索や取得を避ける
- 検索クエリは検索プロバイダによってログに記録される可能性があることに注意
- ウェブコンテンツの取得と処理時にデータプライバシー規制を考慮する